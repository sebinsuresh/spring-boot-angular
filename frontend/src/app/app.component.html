<nav>
  <span class="logo">Employee Manager</span>
  <a href="#" (click)="onOpenModal({ data: null, mode: 'add' })">Add Employee</a>
  <app-employee-search
    [data]="allEmployees"
    (onSearchResult)="displayedEmployees = $event"
  ></app-employee-search>
</nav>
<div class="employee-container">
  <app-employee-card
    *ngFor="let employee of displayedEmployees"
    [employee]="employee"
    (openModal)="onOpenModal($event)"
  ></app-employee-card>
  <div *ngIf="!displayedEmployees?.length" class="message">
    <p>No employees found!</p>
  </div>
</div>
<div id="modals-container" #container (click)="closeAllModals($event)">
  <!-- Add Employee Modal -->
  <div id="addEmployee" class="modal">
    <h2>Add Employee</h2>
    <form #addForm="ngForm" (ngSubmit)="onAddEmployee(addForm)">
      <div class="modal-input">
        <label for="add_name">name</label>
        <input type="text" name="name" id="add_name" ngModel required />
      </div>
      <div class="modal-input">
        <label for="add_email">email</label>
        <input type="text" name="email" id="add_email" ngModel required />
      </div>
      <div class="modal-input">
        <label for="add_jobTitle">jobTitle</label>
        <input type="text" name="jobTitle" id="add_jobTitle" ngModel required />
      </div>
      <div class="modal-input">
        <label for="add_phone">phone</label>
        <input type="text" name="phone" id="add_phone" ngModel required />
      </div>
      <div class="modal-input">
        <label for="add_imageUrl">imageUrl</label>
        <input type="text" name="imageUrl" id="add_imageUrl" ngModel required />
      </div>
      <div>
        <button type="submit" [disabled]="addForm.invalid">Save</button>
        <input type="button" value="Cancel" (click)="closeAllModals()" />
      </div>
    </form>
  </div>

  <!-- Edit Employee Modal -->
  <div id="editEmployee" class="modal">
    <h2>Edit Employee</h2>
    <form #editForm="ngForm" (ngSubmit)="onEditEmployee(editForm.value)">
      <input type="hidden" name="id" id="edit_id" ngModel="{{ currentEmployee?.id }}" />
      <input
        type="hidden"
        name="employeeCode"
        id="edit_employeeCode"
        ngModel="{{ currentEmployee?.employeeCode }}"
      />
      <div class="modal-input">
        <label for="edit_name">name</label>
        <input type="text" name="name" id="edit_name" ngModel="{{ currentEmployee?.name }}" />
      </div>
      <div class="modal-input">
        <label for="edit_email">email</label>
        <input type="text" name="email" id="edit_email" ngModel="{{ currentEmployee?.email }}" />
      </div>
      <div class="modal-input">
        <label for="edit_jobTitle">jobTitle</label>
        <input type="text" name="jobTitle" id="edit_jobTitle" ngModel="{{ currentEmployee?.jobTitle }}" />
      </div>
      <div class="modal-input">
        <label for="edit_phone">phone</label>
        <input type="text" name="phone" id="edit_phone" ngModel="{{ currentEmployee?.phone }}" />
      </div>
      <div class="modal-input">
        <label for="edit_imageUrl">imageUrl</label>
        <input type="text" name="imageUrl" id="edit_imageUrl" ngModel="{{ currentEmployee?.imageUrl }}" />
      </div>
      <div>
        <button type="submit" [disabled]="editForm.invalid">Save</button>
        <input type="button" value="Cancel" (click)="closeAllModals()" />
      </div>
    </form>
  </div>

  <!-- Delete Employee Modal -->
  <div id="deleteEmployee" class="modal">
    <h2>Delete Employee?</h2>
    <p>This will delete the record for {{ currentEmployee?.name }}</p>
    <div>
      <input type="button" value="Confirm" (click)="onDeleteEmployee(currentEmployee)" />
      <input type="button" value="Cancel" (click)="closeAllModals()" />
    </div>
  </div>
</div>
